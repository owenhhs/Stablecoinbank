# ZFX 支付中心系统 - 项目文档

## 📋 文档概述

本文档集合包含了 ZFX 支付中心系统的完整技术文档，涵盖产品需求、业务流程、API接口、数据结构等各个方面。

## 📚 文档目录

### 1. [产品需求文档 (PRD)](./PRD-产品需求文档.md)
- **文档类型**: 产品需求规格说明书
- **主要内容**: 
  - 产品概述和目标
  - 功能需求详细说明
  - 非功能需求
  - 业务流程描述
  - 验收标准
- **适用人群**: 产品经理、项目经理、开发团队

### 2. [业务流程文档](./业务流程文档.md)
- **文档类型**: 业务流程图和流程说明
- **主要内容**:
  - 支付业务流程
  - 结算业务流程
  - 商户管理流程
  - 风控管理流程
  - 系统管理流程
  - 异常处理流程
- **适用人群**: 业务分析师、开发人员、测试人员

### 3. [API接口文档](./API接口文档.md)
- **文档类型**: RESTful API 接口规范
- **主要内容**:
  - 接口概述和认证方式
  - 认证接口
  - 订单管理接口
  - 商户管理接口
  - 支付渠道管理接口
  - 结算管理接口
  - 多因子认证接口
  - 系统管理接口
  - 文件管理接口
  - 接口调用示例
- **适用人群**: 前端开发人员、第三方集成开发者

### 4. [数据结构文档](./数据结构文档.md)
- **文档类型**: 数据库设计文档
- **主要内容**:
  - 数据库设计概述
  - 核心业务表结构
    - 支付订单信息表 (t_payment_order_info)
    - 支付渠道信息表 (t_payment_channel_info)
    - 现金订单信息表 (t_cash_order_info)
    - 商户信息表 (t_merchant_info)
    - 结算信息表 (t_settlement_info)
  - 系统管理表结构
    - 用户表 (t_employee)
    - 角色表 (t_role)
    - 菜单表 (t_menu)
    - 部门表 (t_department)
    - 员工多因子信息表 (t_employee_otp)
  - 数据加密设计
  - 索引设计策略
  - 数据完整性约束
  - 数据归档策略
  - 性能优化建议
- **适用人群**: 后端开发人员、数据库管理员

### 5. [数据字典文档](./数据字典文档.md)
- **文档类型**: 数据字典和枚举值说明
- **主要内容**:
  - 业务数据字典
  - 系统数据字典
  - 配置数据字典
  - 字典管理接口
  - 字典使用规范
  - 字典扩展机制
- **适用人群**: 开发人员、系统管理员

### 6. [多语言扩展文档](./多语言扩展文档.md)
- **文档类型**: 国际化多语言功能文档
- **主要内容**:
  - 多语言架构设计
  - 支持的语言列表 (英文、中文、法语、西班牙语、葡萄牙语)
  - 前后端国际化配置
  - 数据库多语言支持
  - 使用方法及最佳实践
  - 故障排除指南
- **适用人群**: 开发人员、产品经理、国际化团队

### 7. [Git忽略文件说明](./Git忽略文件说明.md)
- **文档类型**: Git 配置和版本控制说明
- **主要内容**:
  - .gitignore 文件配置详解
  - 各类文件忽略规则说明
  - Git 忽略规则使用方法
  - 常见问题和解决方案
  - 维护建议和最佳实践
- **适用人群**: 开发人员、DevOps工程师

## 🏗️ 系统架构

### 技术栈
- **后端框架**: Spring Boot 2.7+
- **前端框架**: Vue 3 + Vite
- **数据库**: MySQL 8.0+
- **缓存**: Redis 6.0+
- **容器化**: Docker + Docker Compose
- **Web服务器**: Nginx

### 系统模块
```
ZFX 支付中心系统
├── 系统管理模块
│   ├── 用户管理
│   ├── 角色权限管理
│   ├── 菜单管理
│   └── 部门管理
├── 商户管理模块
│   ├── 商户信息管理
│   └── 商户卡片管理
├── 支付渠道管理模块
│   ├── 渠道配置管理
│   ├── 支付方式配置
│   └── 业务配置管理
├── 订单管理模块
│   ├── 支付订单管理
│   ├── 现金订单管理
│   ├── 订单回单管理
│   └── 失败订单管理
├── 结算管理模块
│   ├── 结算信息管理
│   ├── 结算订单管理
│   └── 结算详情管理
├── OA办公模块
│   ├── 企业管理
│   └── 通知公告
└── 系统支持模块
    ├── 数据字典
    ├── 文件管理
    ├── 日志管理
    └── 代码生成器
```

## 🚀 快速开始

### 环境要求
- JDK 8+
- Node.js 16+
- MySQL 8.0+
- Redis 6.0+
- Docker & Docker Compose

### 启动步骤

1. **克隆项目**
```bash
git clone <repository-url>
cd zfx
```

2. **启动数据库**
```bash
docker-compose up -d mysql redis
```

3. **导入数据库**
```bash
mysql -h localhost -u root -p < payment-center/smart_admin_v3.sql
```

4. **启动后端服务**
```bash
cd payment-center/smart-admin-api
docker-compose up -d
```

5. **启动前端服务**
```bash
cd payment-center/smart-admin-web
docker-compose up -d
```

6. **访问系统**
- 前端地址: http://localhost:1881
- 后端API: http://localhost:1681
- 默认账号: admin / 123456

### 📊 系统状态
- ✅ **后端服务**: 正常运行 (端口 1681)
- ✅ **前端服务**: 正常运行 (端口 1881)
- ✅ **MySQL数据库**: 已连接并初始化
- ✅ **Redis缓存**: 已连接
- ✅ **数据库表**: 完整创建，包含所有业务表
- ✅ **登录功能**: 正常可用
- ✅ **支付模块**: 数据库表结构完整
- ✅ **多语言支持**: 英文优先架构，支持英文和中文切换
- ✅ **语言切换**: 头部导航栏语言切换器，实时响应
- ✅ **国际化修复**: 所有菜单、页面内容、用户信息支持多语言

## 📖 文档使用指南

### 开发者
1. 首先阅读 [产品需求文档](./PRD-产品需求文档.md) 了解业务需求
2. 查看 [业务流程文档](./业务流程文档.md) 理解业务逻辑
3. 参考 [数据结构文档](./数据结构文档.md) 进行数据库设计
4. 使用 [API接口文档](./API接口文档.md) 进行接口开发
5. 查阅 [数据字典文档](./数据字典文档.md) 了解枚举值

### 测试人员
1. 基于 [产品需求文档](./PRD-产品需求文档.md) 编写测试用例
2. 参考 [业务流程文档](./业务流程文档.md) 进行流程测试
3. 使用 [API接口文档](./API接口文档.md) 进行接口测试

### 运维人员
1. 参考 [数据结构文档](./数据结构文档.md) 进行数据库维护
2. 使用 Docker Compose 进行服务部署
3. 监控系统运行状态和日志

## 🔧 开发规范

### 代码规范
- 后端代码遵循阿里巴巴Java开发手册
- 前端代码遵循Vue.js官方风格指南
- 数据库设计遵循第三范式

### 接口规范
- RESTful API 设计规范
- 统一的响应格式
- 完善的错误码定义

### 文档规范
- 使用Markdown格式编写
- 保持文档的及时更新
- 提供清晰的示例代码

## 📝 版本历史

| 版本 | 日期 | 更新内容 | 更新人 |
|------|------|----------|--------|
| v1.2.0 | 2025-01-07 | 多语言国际化修复版本，实现英文优先架构 | AI Assistant |
| v1.1.0 | 2024-09-29 | 添加多语言支持，完善国际化功能 | AI Assistant |
| v1.0.1 | 2024-09-29 | 修复数据库表缺失问题，更新技术文档 | AI Assistant |
| v1.0 | 2024-09-29 | 初始版本，包含完整的项目文档 | AI Assistant |

### v1.2.0 更新详情
- 🌍 **多语言国际化修复**: 实现英文优先的国际化架构
  - 修复所有菜单组件的语言切换响应问题
  - 数据库菜单和用户数据英文化
  - 所有页面内容支持中英文切换
  - 语言切换实时响应，无延迟
- 🔧 **技术修复**: 修复Vue组件响应性问题
  - 修复模板语法错误（locale.value → locale）
  - 优化语言切换逻辑和多重保护机制
  - 清理所有调试代码和临时文件
- 📚 **文档更新**: 完善项目文档
  - 新增变更日志 (CHANGELOG.md)
  - 更新.gitignore文件，排除调试文件
  - 更新README文档，反映最新系统状态
- ✅ **质量保证**: 全面测试和验证
  - 所有菜单项都有完整翻译
  - 用户界面完全响应语言变化
  - 数据库数据一致性验证

### v1.1.0 更新详情
- 🌍 **多语言支持**: 添加完整的国际化功能
  - 支持5种语言：英文(默认)、中文、法语、西班牙语、葡萄牙语
  - 前端语言切换组件，支持实时切换
  - 后端消息国际化配置
  - 数据库多语言表结构
- 📚 **文档更新**: 新增多语言扩展文档
  - 详细的多语言架构说明
  - 使用方法和最佳实践
  - 故障排除指南
- 🔧 **系统优化**: 完善前端国际化配置
  - 更新默认语言为英文
  - 优化语言包结构
  - 添加业务相关翻译

### v1.0.1 更新详情
- 🔧 **数据库修复**: 添加缺失的支付相关表结构
  - 新增 `t_payment_channel_info` 表（支付渠道信息表）
  - 新增 `t_payment_order_info` 表（支付订单信息表）
  - 新增 `t_employee_otp` 表（员工多因子认证表）
- 📚 **文档更新**: 完善技术文档
  - 更新数据字典文档，添加支付相关枚举
  - 更新数据结构文档，完善表结构说明
  - 更新API接口文档，添加支付渠道和多因子认证接口
  - 更新README文档，反映最新系统状态
- ✅ **系统优化**: 修复登录后数据库表缺失问题
- 🐛 **Bug修复**: 解决支付模块相关的数据库错误

## 🤝 贡献指南

### 文档更新
1. Fork 项目仓库
2. 创建文档更新分支
3. 修改相关文档
4. 提交 Pull Request

### 问题反馈
- 通过 Issue 提交问题
- 提供详细的问题描述
- 附上相关的错误日志

## 📞 联系方式

- **项目负责人**: 待定
- **技术支持**: 待定
- **邮箱**: 待定

## 📄 许可证

本项目采用 [MIT License](../LICENSE) 许可证。

---

**最后更新**: 2025-01-07  
**文档版本**: v1.2.0  
**维护团队**: ZFX开发团队
