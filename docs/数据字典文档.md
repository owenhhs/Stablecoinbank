# ZFX 支付中心系统 - 数据字典文档

## 1. 数据字典概述

### 1.1 字典管理
系统采用数据字典统一管理各种枚举值和配置项，通过 `t_dict_key` 和 `t_dict_value` 表进行存储和管理。

### 1.2 字典分类
- **业务字典**: 支付状态、订单状态等业务相关枚举
- **系统字典**: 用户状态、菜单类型等系统相关枚举
- **配置字典**: 系统配置参数

## 2. 业务数据字典

### 2.1 支付状态字典 (PAYMENT_STATUS)

#### 字典信息
- **字典编码**: PAYMENT_STATUS
- **字典名称**: 支付状态
- **字典描述**: 支付订单的支付状态枚举
- **业务场景**: 订单管理、支付处理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 待付款 | 1 | 启用 | 订单已创建，等待用户支付 |
| 2 | 已付款 | 2 | 启用 | 用户已完成支付 |
| 3 | 已取消 | 3 | 启用 | 订单被取消 |
| 4 | 已过期 | 4 | 启用 | 订单超过有效期 |

### 2.2 订单状态字典 (ORDER_STATUS)

#### 字典信息
- **字典编码**: ORDER_STATUS
- **字典名称**: 订单状态
- **字典描述**: 订单的确认状态枚举
- **业务场景**: 订单管理、结算处理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 待确认 | 1 | 启用 | 订单等待确认 |
| 2 | 已确认 | 2 | 启用 | 订单已确认 |
| 3 | 挂起 | 3 | 启用 | 订单被挂起处理 |

### 2.3 支付方式字典 (PAYMENT_METHOD)

#### 字典信息
- **字典编码**: PAYMENT_METHOD
- **字典名称**: 支付方式
- **字典描述**: 用户可选择的支付方式
- **业务场景**: 支付渠道、订单创建

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| bank | 银行转账 | 1 | 启用 | 通过银行账户转账 |
| qrcode | 二维码支付 | 2 | 启用 | 扫描二维码支付 |
| alipay | 支付宝 | 3 | 启用 | 支付宝支付 |
| wechat | 微信支付 | 4 | 启用 | 微信支付 |
| unionpay | 银联支付 | 5 | 启用 | 银联支付 |

### 2.4 渠道类型字典 (CHANNEL_TYPE)

#### 字典信息
- **字典编码**: CHANNEL_TYPE
- **字典名称**: 渠道类型
- **字典描述**: 支付渠道的类型分类
- **业务场景**: 渠道管理、支付处理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| bank | 银行渠道 | 1 | 启用 | 银行直连渠道 |
| qrcode | 二维码渠道 | 2 | 启用 | 二维码支付渠道 |
| thirdparty | 第三方渠道 | 3 | 启用 | 第三方支付渠道 |
| wallet | 电子钱包 | 4 | 启用 | 电子钱包渠道 |

### 2.5 结算状态字典 (SETTLEMENT_STATUS)

#### 字典信息
- **字典编码**: SETTLEMENT_STATUS
- **字典名称**: 结算状态
- **字典描述**: 结算单的处理状态
- **业务场景**: 结算管理、财务处理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 待结算 | 1 | 启用 | 结算单等待处理 |
| 2 | 已结算 | 2 | 启用 | 结算已完成 |
| 3 | 结算失败 | 3 | 启用 | 结算处理失败 |

### 2.6 币种字典 (CURRENCY)

#### 字典信息
- **字典编码**: CURRENCY
- **字典名称**: 币种
- **字典描述**: 系统支持的货币类型
- **业务场景**: 订单创建、金额显示

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| USD | 美元 | 1 | 启用 | 美元 |
| EUR | 欧元 | 2 | 启用 | 欧元 |
| CNY | 人民币 | 3 | 启用 | 人民币 |
| JPY | 日元 | 4 | 启用 | 日元 |
| GBP | 英镑 | 5 | 启用 | 英镑 |
| HKD | 港币 | 6 | 启用 | 港币 |
| SGD | 新加坡元 | 7 | 启用 | 新加坡元 |

### 2.7 国家字典 (COUNTRY)

#### 字典信息
- **字典编码**: COUNTRY
- **字典名称**: 国家
- **字典描述**: 系统支持的国家地区
- **业务场景**: 用户注册、订单创建

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| US | 美国 | 1 | 启用 | 美国 |
| CN | 中国 | 2 | 启用 | 中国 |
| JP | 日本 | 3 | 启用 | 日本 |
| GB | 英国 | 4 | 启用 | 英国 |
| DE | 德国 | 5 | 启用 | 德国 |
| FR | 法国 | 6 | 启用 | 法国 |
| SG | 新加坡 | 7 | 启用 | 新加坡 |
| HK | 香港 | 8 | 启用 | 香港 |

### 2.8 接口类型字典 (INTERFACE_TYPE)

#### 字典信息
- **字典编码**: INTERFACE_TYPE
- **字典名称**: 接口类型
- **字典描述**: 支付渠道的接口类型
- **业务场景**: 渠道管理、支付处理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | API方式 | 1 | 启用 | 通过API接口对接 |
| 2 | 非API方式 | 2 | 启用 | 通过渠道管理平台对接 |

### 2.9 支付比例字典 (PAYMENT_SCALE)

#### 字典信息
- **字典编码**: PAYMENT_SCALE
- **字典名称**: 支付比例
- **字典描述**: 支付渠道的支付比例配置
- **业务场景**: 渠道配置、限额管理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 100% | 1 | 启用 | 全额支付 |
| 2 | 80% | 2 | 启用 | 80%支付 |
| 3 | 50% | 3 | 启用 | 50%支付 |
| 4 | 30% | 4 | 启用 | 30%支付 |

### 2.10 兑付比例字典 (CASH_SCALE)

#### 字典信息
- **字典编码**: CASH_SCALE
- **字典名称**: 兑付比例
- **字典描述**: 支付渠道的兑付比例配置
- **业务场景**: 渠道配置、兑付管理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 100% | 1 | 启用 | 全额兑付 |
| 2 | 90% | 2 | 启用 | 90%兑付 |
| 3 | 80% | 3 | 启用 | 80%兑付 |
| 4 | 70% | 4 | 启用 | 70%兑付 |

### 2.11 新疆用户支持字典 (XJ_FLAG)

#### 字典信息
- **字典编码**: XJ_FLAG
- **字典名称**: 新疆用户支持
- **字典描述**: 是否支持新疆地区用户
- **业务场景**: 渠道配置、地区限制

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 0 | 不支持 | 1 | 启用 | 不支持新疆用户 |
| 1 | 支持 | 2 | 启用 | 支持新疆用户 |

## 3. 系统数据字典

### 3.1 用户状态字典 (USER_STATUS)

#### 字典信息
- **字典编码**: USER_STATUS
- **字典名称**: 用户状态
- **字典描述**: 系统用户的状态
- **业务场景**: 用户管理、登录控制

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 正常 | 1 | 启用 | 用户状态正常 |
| 0 | 禁用 | 2 | 启用 | 用户被禁用 |

### 3.2 菜单类型字典 (MENU_TYPE)

#### 字典信息
- **字典编码**: MENU_TYPE
- **字典名称**: 菜单类型
- **字典描述**: 系统菜单的类型分类
- **业务场景**: 菜单管理、权限控制

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 目录 | 1 | 启用 | 菜单目录 |
| 2 | 菜单 | 2 | 启用 | 菜单项 |
| 3 | 按钮 | 3 | 启用 | 按钮权限 |

### 3.3 数据权限类型字典 (DATA_SCOPE_TYPE)

#### 字典信息
- **字典编码**: DATA_SCOPE_TYPE
- **字典名称**: 数据权限类型
- **字典描述**: 用户数据权限范围
- **业务场景**: 权限管理、数据过滤

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 全部数据权限 | 1 | 启用 | 可查看所有数据 |
| 2 | 自定数据权限 | 2 | 启用 | 自定义数据权限 |
| 3 | 本部门数据权限 | 3 | 启用 | 只能查看本部门数据 |
| 4 | 本部门及以下数据权限 | 4 | 启用 | 本部门及下级部门数据 |
| 5 | 仅本人数据权限 | 5 | 启用 | 只能查看本人数据 |

### 3.4 操作类型字典 (OPERATE_TYPE)

#### 字典信息
- **字典编码**: OPERATE_TYPE
- **字典名称**: 操作类型
- **字典描述**: 系统操作日志的操作类型
- **业务场景**: 日志记录、审计追踪

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| ADD | 新增 | 1 | 启用 | 新增操作 |
| UPDATE | 修改 | 2 | 启用 | 修改操作 |
| DELETE | 删除 | 3 | 启用 | 删除操作 |
| QUERY | 查询 | 4 | 启用 | 查询操作 |
| EXPORT | 导出 | 5 | 启用 | 导出操作 |
| IMPORT | 导入 | 6 | 启用 | 导入操作 |
| LOGIN | 登录 | 7 | 启用 | 登录操作 |
| LOGOUT | 登出 | 8 | 启用 | 登出操作 |

### 3.5 通知类型字典 (NOTICE_TYPE)

#### 字典信息
- **字典编码**: NOTICE_TYPE
- **字典名称**: 通知类型
- **字典描述**: 系统通知的类型分类
- **业务场景**: 通知管理、消息推送

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| 1 | 通知 | 1 | 启用 | 一般通知 |
| 2 | 公告 | 2 | 启用 | 系统公告 |
| 3 | 提醒 | 3 | 启用 | 提醒消息 |
| 4 | 警告 | 4 | 启用 | 警告消息 |

## 4. 配置数据字典

### 4.1 系统配置字典 (SYSTEM_CONFIG)

#### 字典信息
- **字典编码**: SYSTEM_CONFIG
- **字典名称**: 系统配置
- **字典描述**: 系统运行配置参数
- **业务场景**: 系统配置、参数管理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| system.name | 系统名称 | 1 | 启用 | ZFX支付中心系统 |
| system.version | 系统版本 | 2 | 启用 | v1.0.0 |
| system.copyright | 版权信息 | 3 | 启用 | Copyright © 2024 ZFX |
| upload.max.size | 上传文件最大大小 | 4 | 启用 | 10MB |
| session.timeout | 会话超时时间 | 5 | 启用 | 30分钟 |

### 4.2 文件类型字典 (FILE_TYPE)

#### 字典信息
- **字典编码**: FILE_TYPE
- **字典名称**: 文件类型
- **字典描述**: 系统支持的文件类型
- **业务场景**: 文件上传、文件管理

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| image | 图片 | 1 | 启用 | 图片文件 |
| document | 文档 | 2 | 启用 | 文档文件 |
| excel | Excel表格 | 3 | 启用 | Excel文件 |
| pdf | PDF文档 | 4 | 启用 | PDF文件 |
| video | 视频 | 5 | 启用 | 视频文件 |
| audio | 音频 | 6 | 启用 | 音频文件 |

### 4.3 日志级别字典 (LOG_LEVEL)

#### 字典信息
- **字典编码**: LOG_LEVEL
- **字典名称**: 日志级别
- **字典描述**: 系统日志记录级别
- **业务场景**: 日志管理、系统监控

#### 字典值
| 字典值 | 字典标签 | 排序 | 状态 | 备注 |
|--------|----------|------|------|------|
| DEBUG | 调试 | 1 | 启用 | 调试信息 |
| INFO | 信息 | 2 | 启用 | 一般信息 |
| WARN | 警告 | 3 | 启用 | 警告信息 |
| ERROR | 错误 | 4 | 启用 | 错误信息 |

## 5. 字典管理接口

### 5.1 字典查询接口

#### 获取字典列表
```http
GET /dict/list
```

#### 根据编码获取字典值
```http
GET /dict/values/{dictCode}
```

#### 响应示例
```json
{
  "code": 1,
  "msg": "查询成功",
  "data": [
    {
      "dictValue": "1",
      "dictLabel": "待付款",
      "sort": 1,
      "status": 1
    },
    {
      "dictValue": "2", 
      "dictLabel": "已付款",
      "sort": 2,
      "status": 1
    }
  ]
}
```

### 5.2 字典管理接口

#### 添加字典项
```http
POST /dict/add
```

#### 修改字典项
```http
POST /dict/update
```

#### 删除字典项
```http
DELETE /dict/delete/{dictId}
```

## 6. 字典使用规范

### 6.1 字典命名规范
- **字典编码**: 使用大写字母和下划线，如 `PAYMENT_STATUS`
- **字典标签**: 使用中文，简洁明了
- **字典值**: 使用数字或英文字母，保持一致性

### 6.2 字典维护规范
- 新增字典项需要评估业务影响
- 删除字典项需要确认无业务引用
- 修改字典项需要同步更新相关代码
- 定期清理无用的字典项

### 6.3 字典缓存策略
- 字典数据缓存到Redis
- 缓存时间设置为1小时
- 字典变更时清除相关缓存
- 提供缓存刷新接口

## 7. 字典扩展机制

### 7.1 自定义字典
系统支持业务模块自定义字典：
```java
@Component
public class CustomDictService {
    
    @PostConstruct
    public void initCustomDict() {
        // 初始化自定义字典
    }
}
```

### 7.2 字典国际化
支持多语言字典：
```json
{
  "PAYMENT_STATUS": {
    "zh-CN": {
      "1": "待付款",
      "2": "已付款"
    },
    "en-US": {
      "1": "Pending",
      "2": "Paid"
    }
  }
}
```

## 8. 字典监控

### 8.1 使用统计
- 记录字典访问频率
- 分析热点字典
- 优化字典加载策略

### 8.2 异常监控
- 监控字典查询异常
- 记录字典缺失情况
- 告警字典配置错误

---

**文档版本**: v1.0  
**创建日期**: 2024-09-29  
**更新日期**: 2024-09-29  
**创建人**: AI Assistant  
**审核人**: 待定
